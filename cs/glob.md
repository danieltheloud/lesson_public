# 글로브

- 컴퓨터 프로그래밍에서, 특히 유닉스(`Unix`) 계열 환경에서 글로브(`glob`) 패턴은 와일드카드(wildcard) 문자로 여러 파일 이름의 집합을 지정한다.
  - 이를테면 유닉스 명령어 `mv *.txt textfiles/`은 현재 디렉터리의 `.txt`로 끝나는 이름의 모든 파일을 `textfiles` 디렉터리로 이동(`mv`)시킨다.
  - 여기에서 `*`는 모든 문자열을 가리키는 와일드카드이고 `*.txt`는 글로브 패턴이다. 그 밖의 일반적인 와일드카드는 하나의 문자를 가리키는 물음표(`?`)이다.

## 기원

- `glob` 명령어는 글로벌(global)의 줄임말로, 벨 연구소(Bell Labs)의 유닉스 초기 버전에서 유래되었다.
  - 초기 버전의 유닉스(1판부터 6판까지, 1969–1975)의 명령어 인터프리터는 인용 부호가 없는 인자의 와일드카드 문자를 명령어로 확장하기 위해서 별도의 프로그램에 의존했다.
  - 해당 프로그램은 확장을 수행했고, 확장된 파일 경로의 목록을 실행하기 위해서 명령어에 제공했다.
- `glob`는 기원적으로 `B` 프로그래밍 언어에 작성되었다.
  - 이는 고급(high-level) 프로그래밍 언어로 개발된 최초의 메인 라인 유닉스 소프트웨어였다.
  - 이후에 이 기능성은 셸(shell)과 같은 프로그램에서 사용되는 `C` 라이브러리 함수인 `glob()`으로 제공되었다.
  - 일반적으로 문자열이 주어진 패턴과 일치되는지 검사하는 `fnmatch()`라는 함수를 기반으로 정의되었다.
    - 이 함수를 사용하는 프로그램은 일치되는 것들을 결정하기 위해서, 일련의 문자열(통상적으로 파일 이름)을 반복할 수 있다.
  - 두 함수 모두 `POSIX`(Portable Operating System Interface)의 일부이다.
    - 2001년부터 `POSIX.1`에 정의된 함수와 `POSIX.2`에 정의된 구문이다.
  - 개별 일치 함수를 정의하는 발상은 `Bourne shell` 글로브를 문자열과 대조할 수 있는 간단한 라이브러리인 `wildmat`(wildcard match)에서 시작되었다.
- 전통적으로 글러브는 유닉스의 닷파일(dotfile) 형태의 숨겨진 파일과 일치되지 않는다.
  - 이와 일치시키기 위해서는 패턴이 명시적으로 닷(`.`)으로 시작되어야 합니다.
  - 예컨데, `*`는 모든 보이는 파일과 일치되는 반면, `.*`는 모든 숨겨진 파일과 일치된다.

## 문법

- 가장 일반적인 와일드카드로는 `*`, `?`, `[…]`가 있다.

| 와일드카드 | 설명 |
| :---: | --- |
| `*` | 공백을 포함한 모든 수의 모든 문자와 일치 |
| `?` | 모든 단일 문자와 일치 |
| `[abc]` | 주어진 문자들 중에 하나의 문자와 일치 |
| `[a-z]` | (로케일(`locale`)에 의존적으로) 주어진 범위에서 하나의 문자와 일치 |

- 일반적으로 경로 구분자(`Linux`, `Unix`, `MacOS` 등에서 `/`, `Windows`에서 `\`)는 절대로 일치되지 않는다.
  - `Unix` 셸과 같은 일부 셸에는 사용자가 이의 우회를 허용할 기능성이 있다.

### Unix 계열 문법

- `Unix` 계열의 시스템에서 `*`, `?`는 위와 같이 정의되지만, `[…]`는 두 가지 추가적인 의미를 갖는다.

| 와일드카드 | 설명 |
| :---: | --- |
| `[!abc]` | 주어진 문자들 중에 제외한 하나의 문자와 일치 |
| `[!a-z]` | 주어진 범위를 제외한 하나의 문자와 일치 |

- 범위에는 미리 정의된 `문자 클래스`, 악센트 문자에 대한 `등가 클래스`, 그리고 입력하기 어려운 문자에 대한 `조합 기호`도 포함될 수 있다.
  - 그것들은 `POSIX` 정규 표현식에서 괄호와 대조하도록 정의된다.
- 유닉스 글로빙(globbing)은 `POSIX` 전통에 따라 셸에 의해 처리된다.
  - 글로빙은 명령줄의 파일 이름과 셸 스크립트에서 제공됩니다.
  - 셸의 `POSIX` 명령 사례 문장은 글로브 패턴을 사용하여 패턴 매칭을 제공합니다.
- (`C shell`, `Bash` 등과 같은)일부 셸(shell)에서은 교체(`|`, alternation) 또는 괄호 확장(brace expansion)으로 알려진 추가 구문을 지원한다.
  - 그것은 글로브 구문의 일부가 아니기 때문에, 경우에 따라 제공되지 않는다.
  - 글로빙하기 전에 명령줄에서만 확장된다.
- `Bash` 셸은 확장(extension)을 지원한다.
  - 확장된 글로빙(`extglob`)
    - 괄호(`(`, `)`) 안에 둘러싸인 패턴의 여러 발생을 일치시키기 위해 다른 패턴 매칭 연산자를 사용할 수 있게 하여, 기본적으로 누락된 클린 스타(`*`; Kleene star)와 정규 언어를 설명하기 위한 교체를 제공한다.
    - `extglob` 셸 옵션을 설정하여 활성화할 수 있다.
      - 이 옵션은 `KornShell`(ksh93)에서 나왔다.
    - `GNU` `fnmatch`와 `glob`은 동일한 확장자를 가지고 있다.
  - 글로브 스타(`globstar`)
    - `**`은 이름 구성 요소로서 숨겨진 디렉터리가 아닌 여러 레이어를 재귀적으로 일치시킬 수 있다.
    - `JavaScript` 라이브러리와 `Python`의 글로브에서도 지원된다.

### SQL 문법

- `SQL`의 `LIKE` 연산자에는 `*`나 `?`와 동일한 기능이 있지만, `[…]`는 없다.

| 일반 와일드카드 | SQL 와일드카드 |
| :---: | :---: |
| `?` | `_` |
| `*` | `%` |

## 정규 표현식과의 비교

- 글러브에는 표현의 앞부분을 여러 번 반복할 수 있는 클린 스타 구문이 포함되어 있지 않다.
  - 그러므로 주어진 어떤 유한한 문자에 있어서라도, 정규 언어의 전체를 표현할 수 있는 정규 표현식으로는 취급될 수는 없다.

| 일반 와일드카드 | 정규 표현식 |
| :---: | :---: |
| `?` | `.` |
| `*` | `.*` |

- 글로브는 전체 문자열에 대해서만 일치 여부를 판단한다.
  - 세부사항을 구현하기에 따라서, 부분 문자열에 대해서도 검사할 수 있는 정규 표현식과는 다르다.
