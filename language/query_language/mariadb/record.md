# 레코드

- `레코드`(record)는 `테이블`에 소속된 실제 데이터(`행`)을 의미한다.

## 삽입하기

- `INSERT INTO` 키워드를 사용하여서, `레코드`를 삽입할 수 있다.

  ```sql
  INSERT INTO `스키마 이름`.`테이블 이름` (`열 이름`, ...)
  VALUE (값, ...);
  ```

  - 위 쿼리에서 명시한 **`열`의 순서**와 **값의 순서**는 반드시 일치해야 한다.
  - 명시하는 `열`의 순서는 실제 `테이블`이 가지는 `열`의 순서와 일치할 필요는 없다.
  - `열` 이름을 명시하지 않으면, `테이블`이 가지는 모든 `열`을 순서대로 명시한 것과 동일한 효과를 가진다.
    > 하지만, 개발에 혼란을 야기할 수 있으므로, 명시하는 것을 **권장**한다.
- `VALUES` 키워드를 사용하여서, 한 번의 쿼리로 여러개의 `레코드`를 삽입할 수 있다.
  - `VALUE` 키워드를 사용하면 하나의 `레코드` 밖에 삽입할 수 없음에 유의한다.

  ```sql
  INSERT INTO `스키마 이름`.`테이블 이름` (`열 이름`, ...)
  VALUES (값, ...),
         ...;
  ```

  > 다수의 쿼리보다 한 번에 다수를 처리하는 쿼리가 빠르므로, **항상** 후자를 고려해야 한다.

## 조회하기

- `SELECT` 키워드를 사용하여서, `레코드`를 조회할 수 있다.

  ```sql
  SELECT `열 이름`|리터럴 [AS `별명`],
          ...
  FROM `스키마 이름`.`테이블 이름` [AS `별명`]
  [JOIN 절]
  [WHERE 조건]
  [ORDER BY 기준 열 [ASC|DESC]]
  [LIMIT 레코드 개수 [OFFSET 레코드 개수]];
  ```

  - `AS`: `테이블` 및 `열`에 `별명`(alias)을 지어준다.
    - 해당 쿼리 내에서 `별명`을 통해서, 대상 `테이블` 및 `열`에 접근하는 것이 가능하다.
  - `JOIN`: 현재 조회중인 `테이블`을 기준으로, 다른 `테이블`의 데이터를 함께 조회한다.
  - `WHERE`: 선택할 레코드에 대한 조건을 명시한다.
  - `ORDER BY`: **기준 열**이 가지는 값을 기준으로 결과를 정렬한다.
    - `ASC`는 오름차순(ascending), `DESC`는 내림차순(descending) 정렬이다.
    - 생략하면 오름차순으로 정렬된다.
  - `LIMIT`: 선택 결과의 개수를 제한하기 위해 사용한다.
    - `OFFSET` 개수는 건너뛸 레코드의 개수이다.
    - 생략하면 건너뛰지 않는다.

### 결합

#### 조인

- `JOIN` 키워드를 사용하면 현재 조회하고 있는 `테이블`이 가진 데이터를 활용하여, 다른 `테이블`에 있는 데이터를 함께 조회하고자 할때 사용한다.
- 조인은 `열`을 결합하므로, `수평결합`이다.

  ```sql
  [LEFT [OUTER]|RIGHT [OUTER]|INNER] JOIN `스키마`.`테이블` AS `별명`
          ON [JOIN 조건]
  ```

  - `LEFT JOIN` 혹은 `LEFT OUTER JOIN`: `SELECT` 대상인 `테이블`을 기준으로 조회한다.
  - `RIGHT JOIN` 혹은 `RIGHT OUTER JOIN`: `JOIN` 대상인 `테이블`을 기준으로 조회한다.
  - `INNER JOIN`: `SELECT` 대상인 `테이블`과 `JOIN` 대상인 `테이블` 모두를 기준으로 조회한다.

#### 유니온

- `UNION` 키워드를 사용하면 선택 결과의 열의 개수가 같은 두 `SELECT` 쿼리를 합칠 수 있다.
- 유니온은 `행`을 결합하므로, `수직결합`이다.

  ```sql
  SELECT n개의 열
  FROM ...
  UNION
  SELECT n개의 열
  FROM ...;
  ```

## 수정하기

- `UPDATE` 키워드를 사용하여서 레코드의 값을 수정할 수 있다.

  ```sql
  UPDATE `스키마 이름`.`테이블 이름`
  SET `열 이름` = 새로운 값,
      ...
  [WHERE 조건]
  [LIMIT 레코드 개수];
  ```

- `WHERE` 키워드를 사용하여서 `레코드`를 수정할 조건을 부여할 수 있다.
- `LIMIT` 키워드를 사용하여서 영향을 받는 `레코드`의 개수를 제한할 수 있다.
  - `WHERE` 키워드와 `LIMIT` 키워드를 둘 다 사용하지 않는 경우, 해당 `테이블`에 존재하는 모든 `레코드`를 수정함에 유의한다.
  - 단, `WHERE` 키워드와 `LIMIT` 키워드를 동시에 사용할 경우, 반드시 `WHERE` 키워드가 `LIMIT` 키워드 보다 선행해야 함에 유의한다.

## 삭제하기

- `DELETE` 키워드를 사용하여서 `레코드`를 삭제할 수 있다.

  ```sql
  DELETE
  FROM `스키마 이름`.`테이블 이름`
  [WHERE 조건]
  [LIMIT 레코드 개수];
  ```

- `WHERE` 키워드를 사용하여서 `레코드`를 삭제할 조건을 부여할 수 있다.
- `LIMIT` 키워드를 사용하여서 영향을 받는 `레코드`의 개수를 제한할 수 있다.
  - `WHERE` 키워드와 `LIMIT` 키워드를 둘 다 사용하지 않는 경우, 해당 `테이블`에 존재하는 모든 `레코드`를 삭제함에 유의한다.
  - 단, `WHERE` 키워드와 `LIMIT` 키워드를 동시에 사용할 경우, 반드시 `WHERE` 키워드가 `LIMIT` 키워드 보다 선행해야 함에 유의한다.
